<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Friendsgiving 2025 RSVP</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- ğŸ”¥ Fakie Animation -->
  <style>
    @keyframes fakieShake {
      0% { transform: rotate(0deg); }
      25% { transform: rotate(-10deg); }
      50% { transform: rotate(10deg); }
      75% { transform: rotate(-10deg); }
      100% { transform: rotate(0deg); }
    }
    .animate-fakie {
      animation: fakieShake 0.5s ease-in-out infinite;
    }
  </style>
</head>

<body class="bg-orange-50 flex justify-center items-center min-h-screen px-4 py-8">

  <div class="bg-white rounded-2xl shadow-2xl p-6 max-w-xl w-full">
    
    <!-- Banner Image -->
    <img src="friendsgiving-banner.png" alt="Friendsgiving Banner" class="rounded-xl mb-6 w-full shadow"/>

    <!-- Header -->
    <h1 class="text-3xl font-extrabold text-center text-amber-700 mb-2">
      Sayar G myr's Friendsgiving
    </h1>

    <!-- Date & Time -->
    <div class="bg-amber-50 border border-amber-200 rounded-xl p-4 mb-4 text-center">
      <p class="text-sm text-gray-600 font-medium mb-1">ğŸ“… Date & Time</p>
      <p class="text-lg font-semibold text-amber-800">
        Friday, November 28, 2025 Â· 6:00 PM
      </p>
    </div>

    <ul class="text-gray-700 text-sm mb-4 list-disc list-inside">
      <li>Food, snacks, desserts, and drinks ğŸ§ğŸ·</li>
      <li>Board games ğŸ˜ˆ</li>
    </ul>

    <!-- RSVP Form -->
    <form
      action="https://docs.google.com/forms/d/e/1FAIpQLSeMb_wr68LOkmCSrlATYWqnp4GuaD26KDd-91Mi8ejiwlL_MQ/viewform?usp=preview"
      method="POST"
      id="rsvpForm"
      class="space-y-4"
      onsubmit="return handleSubmit(event)">

      <!-- Name -->
      <input
        type="text"
        name="entry.145399973"
        placeholder="Your Name"
        required
        class="w-full p-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-amber-400"
      />
      <p id="errorName" class="text-red-500 text-sm hidden">Please enter your name.</p>

      <!-- Email -->
      <input
        type="email"
        name="entry.1557240136"
        placeholder="Your Email"
        required
        class="w-full p-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-amber-400"
      />
      <p id="errorEmail" class="text-red-500 text-sm hidden">Please enter a valid email.</p>

      <!-- Attendance -->
      <select
        name="entry.627077154"
        id="attendance"
        required
        class="w-full p-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-amber-400"
        onchange="toggleFakie(this.value)"
      >
        <option value="">Will you attend?</option>
        <option value="Yes, Iâ€™ll be there ğŸ‰">Yes, Iâ€™ll be there ğŸ‰</option>
        <option value="No, I canâ€™t make it ğŸ˜¢">No, I canâ€™t make it ğŸ˜¢</option>
      </select>
      <p id="errorAttendance" class="text-red-500 text-sm hidden">Please select attendance status.</p>

      <!-- Number of Guests -->
      <input
        type="number"
        min="1"
        max="10"
        name="entry.1494175785"
        placeholder="How many people including you? (optional)"
        class="w-full p-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-amber-400"
      />

      <!-- FAKIE message for No -->
      <div
        id="fakieMessage"
        class="hidden text-red-700 text-6xl sm:text-7xl md:text-8xl font-extrabold text-center mt-8 animate-fakie"
      >
        m lar yin lee plğŸ–•
      </div>

      <!-- Submit Button -->
      <button
        type="submit"
        class="w-full bg-amber-500 hover:bg-amber-600 text-white font-semibold py-3 rounded-xl transition"
      >
        Submit RSVP
      </button>
    </form>

    <!-- Thank-you message -->
    <div id="thankYou" class="hidden mt-4 text-center text-green-700 font-semibold">
      Thank you! Your RSVP has been recorded. ğŸ¦ƒ
    </div>

    <!-- Location -->
    <div class="mt-8">
      <h2 class="text-lg font-semibold text-gray-800 mb-2">ğŸ“ Location</h2>
      <p class="text-gray-600 mb-2">
        299 Whitwell St, Quincy, MA 02169
      </p>
      <iframe
        src="https://www.google.com/maps?q=299+Whitwell+St,+Quincy,+MA+02169&output=embed"
        width="100%"
        height="250"
        style="border:0;"
        allowfullscreen=""
        loading="lazy"
        class="rounded-xl"
      ></iframe>
    </div>

  </div>

  <!-- Form Script -->
  <script>
    function toggleFakie(value) {
      const fakie = document.getElementById('fakieMessage');
      if (value.startsWith("No")) {
        fakie.classList.remove('hidden');
      } else {
        fakie.classList.add('hidden');
      }
    }

    function validateForm() {
      const name = document.querySelector('input[name="entry.145399973"]');
      const email = document.querySelector('input[name="entry.1557240136"]');
      const attendanceValue = document.getElementById('attendance').value;

      const errorName = document.getElementById('errorName');
      const errorEmail = document.getElementById('errorEmail');
      const errorAttendance = document.getElementById('errorAttendance');

      // Reset all errors
      errorName.classList.add('hidden');
      errorEmail.classList.add('hidden');
      errorAttendance.classList.add('hidden');

      let valid = true;

      if (name.value.trim() === "") {
        errorName.classList.remove('hidden');
        valid = false;
      }

      if (email.value.trim() === "") {
        errorEmail.classList.remove('hidden');
        valid = false;
      }

      if (attendanceValue === "") {
        errorAttendance.classList.remove('hidden');
        valid = false;
      }

      return valid;
    }

    function handleSubmit(event) {
      if (!validateForm()) {
        return false;
      }

      event.preventDefault(); // stop normal submit

      const form = event.target;
      const formData = new FormData(form);

      fetch(form.action, {
        method: 'POST',
        mode: 'no-cors',
        body: formData
      }).then(() => {
        // hide form, show thank-you
        document.getElementById('rsvpForm').classList.add('hidden');
        document.getElementById('thankYou').classList.remove('hidden');
      }).catch(() => {
        alert("Something went wrong, please try again later.");
      });

      return false;
    }
  </script>

</body>
</html>
